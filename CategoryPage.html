<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="common.css">
    </head>
    <body>
        <div id="header-placeholder"></div>

        <script>
            fetch('header.html')
              .then(res => res.text())
              .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
        
                const input = document.getElementById('search-input');
                if (input) {
                  input.addEventListener('keypress', function (e) {
                    if (e.key === 'Enter') {
                      submitSearch();
                    }
                  });
                }
        
              });
        
            function submitSearch() {
              const query = document.getElementById('search-input').value.trim();
              if (query) {
                window.location.href = 'search.html?q=' + encodeURIComponent(query);
              } else {
                alert('검색어를 입력하세요!');
              }
            }
        </script>
        
        <main>
          <br>
            <!-- 장르 버튼 그리드 -->
            <div class="genre-grid" id="genreGrid">
                <!-- 장르 버튼들이 동적으로 생성될 것입니다 -->
            </div>
        </main>
        
        <script src="game-data.js"></script>
        <script>
            // 장르 버튼 목록 (예시로 사용할 장르들)
            const genres = [
                '액션', 'RPG', '어드벤처', '전략', '퍼즐', '스포츠', '시뮬레이션', '휴먼', '판타지', '호러',
                'SF', '격투', '레이싱', '협동', '싱글', '멀티', '카드', '디펜스', '탑다운', '탑뷰'
            ];

            const genreGrid = document.getElementById('genreGrid');

            // 장르 버튼을 생성하고 그리드에 추가하는 함수
            function loadGenres() {
              genres.forEach(genre => {
                  const genreButton = document.createElement('button');
                  genreButton.className = 'genre-button';
                  genreButton.innerText = genre;
                  genreGrid.appendChild(genreButton);

                  // 클릭 이벤트로 이동 처리
                  genreButton.onclick = () => {
                      window.location.href = 'GameListPage.html?category=' + encodeURIComponent(genre);
                  };
              });
            }
            loadGenres();  // 페이지 로드 시 장르 버튼들 생성
        </script>
    </body>
</html>
